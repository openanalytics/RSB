<?xml version="1.0" encoding="UTF-8"?>
<!--
    R Service Bus
    
    Copyright (c) Copyright of Open Analytics NV, 2010-2023
 
    ===========================================================================
 
    This file is part of R Service Bus.

    R Service Bus is free software: you can redistribute it and/or modify
    it under the terms of the Apache License as published by
    The Apache Software Foundation, either version 2 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    Apache License for more details.

    You should have received a copy of the Apache License
    along with R Service Bus.  If not, see <http://www.apache.org/licenses/>.
        
    @author rsb.development@openanalytics.eu
-->
<document xmlns="http://maven.apache.org/XDOC/2.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/XDOC/2.0 http://maven.apache.org/xsd/xdoc-2.0.xsd">
  <properties>
    <title>Reliability / HA</title>
    <author email="rsb.development@openanalytics.eu">RSB Development</author>
  </properties>
  <body>
    <section name="Reliability / HA">
      <p>Because it uses JMS queues internally and consumes messages
        transactionally, RSB exhibits a reliable behavior as far as guaranteed
        job processing and result delivery (up to the HTTP, email or file system
        interaction) are concerned.</p>
      <p>In order to roll-out a highly available deployment, several instances
        of RSB running in parallel must be deployed. The following must be
        considered:</p>
      <ul>
        <li><i>RSB polls email resources</i>: refer to <a href="scalability.html#Scaling_Out">this discussion</a> for more information.<br/><br/></li>
        <li><i>The REST API supports network level load balancing natively</i>: nothing
          particular must be done to run RSB behind an HTTP load balancer. The
          job URIs generated by the REST API are built by using the host name of
          the incoming request, which guarantees that these URIs are respectful
          of any network-level indirection mechanism that could exist in front
          of RSB.<br/><br/></li>
        <li><i>Each RSB node embeds a JMS provider</i>: if an RSB node is down, all the
          jobs pending processing or the results pending delivery will not be
          accessible until the node is restarted. To be truly highly-available,
          the embedded JMS providers should be replaced with an external
          highly-available JMS provider to which all RSB nodes would connect. If
          this is pursued, keep in mind the following drawback (described <a href="scalability.html#Scaling_Out">here</a>):
          RSB uses the local file system for handling multi-file jobs.<br/><br/></li>
      </ul>
    </section>
  </body>
</document>