<%--
    R Service Bus

    Copyright (c) Copyright of Open Analytics NV, 2010-2019

    ===========================================================================

    This file is part of R Service Bus.

    R Service Bus is free software: you can redistribute it and/or modify
    it under the terms of the Apache License as published by
    The Apache Software Foundation, either version 2 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    Apache License for more details.

    You should have received a copy of the Apache License
    along with R Service Bus.  If not, see <http://www.apache.org/licenses/>.
        
    @author rsb.development@openanalytics.eu
--%>
<%@ taglib prefix='c' uri='http://java.sun.com/jsp/jstl/core' %>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
 <title>RSB - OpenID Login</title>
 
 <link rel="stylesheet" href="<c:url value='/css/rsb.css'/>" />
 <link rel="stylesheet" href="<c:url value='/css/openid.css'/>" />
 <script type="text/javascript" src="<c:url value='/js/jquery-1.7.1.min.js'/>"></script>
 <script type="text/javascript" src="<c:url value='/js/openid-jquery-1.3.js'/>"></script>
 <script type="text/javascript" src="<c:url value='/js/openid-en-1.3.js'/>"></script>
 
 <script type="text/javascript">
   $(document).ready(function() {
     openid.init('openid_identifier');
   });
 </script>
</head>

 <body>
  <ul>
   <h1><img src="css/images/open_analytics_logo.png" style="vertical-align:middle;" title="Open Analytics" />&nbsp;RSB - R Service Bus</span></h1>
 
   <c:if test="${not empty param.login_error}">
    <font color="red"> Your login attempt was not successful, try
    again.<br />
    <br />
    Reason: <c:out value="${SPRING_SECURITY_LAST_EXCEPTION.message}" />. </font>
   </c:if>
  
   <form action="<c:url value='j_spring_openid_security_check'/>"
    method="post" id="openid_form">
    <input type="hidden" name="action" value="verify" />
  
    <fieldset>
     <legend>Sign-in to use RSB</legend>
  
     <div id="openid_choice">
      <p>Please click your account provider:</p>
      <div id="openid_btns"></div>
  
     </div>
  
     <div id="openid_input_area">
      <input id="openid_identifier" name="openid_identifier" type="text" value="http://" />
      <input id="openid_submit" type="submit" value="Sign-In" />
     </div>
     <noscript>
      <p>
       OpenID is a service that allows you to log-on to many different
       websites using a single identity. Find out <a
        href="http://openid.net/what/">more about OpenID</a> and <a
        href="http://openid.net/get/">how to get an OpenID enabled
        account</a>.
      </p>
     </noscript>
    </fieldset>
   </form>
  </ul> 
 </body>
</html>